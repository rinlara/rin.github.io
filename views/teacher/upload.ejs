<%
// ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ locals.activePage ‚Äî app.js ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ó‡∏ô
const user = locals.user || {};
%>

<div class="upload-container shadow-lg">
  <style>
    .upload-container { max-width: 760px; margin: 36px auto; padding: 36px; border-radius: 14px; background: #fff; }
    .page-header .page-title { font-size: 1.6rem; font-weight: 700; color: #0d4a6b; }
    .page-header .page-subtitle { font-size: 1rem; color: #64748b; }
    .form-label { font-weight: 500; color: #334155; }
    .form-label i { font-size: 1.05rem; }
    .form-control.form-control-lg { 
      border-radius: 10px; 
      border: 2px solid #e2e8f0; 
      transition: border-color 0.2s;
    }
    .form-control.form-control-lg:focus { 
      border-color: #0d4a6b; 
      box-shadow: 0 0 0 0.2rem rgba(13,74,107,0.15); 
    }
    .btn-primary { 
      background: linear-gradient(135deg, #0d4a6b 0%, #1a5f7a 100%); 
      border: none; 
      box-shadow: 0 6px 18px rgba(13,110,253,0.12);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .btn-primary:hover { 
      transform: translateY(-2px); 
      box-shadow: 0 8px 24px rgba(13,110,253,0.18); 
    }
    .fade-in { animation: fadeIn 0.3s ease-in; }
    @keyframes fadeIn { 
      from { opacity: 0; transform: translateY(-10px); } 
      to { opacity: 1; transform: translateY(0); } 
    }
  </style>
  
  <div class="page-header text-center mb-4">
    <h1 class="page-title"><i class="fas fa-award text-primary me-2"></i> ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£</h1>
    <p class="page-subtitle text-muted">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£ | ‡∏™‡∏û‡∏õ.‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô ‡πÄ‡∏Ç‡∏ï 2</p>
  </div>

  <!-- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
  <% if (locals.success) { %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <i class="fas fa-check-circle me-2"></i> <%= success %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% } %>
  <% if (locals.error) { %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <i class="fas fa-exclamation-triangle me-2"></i> <%= error %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% } %>

  <!-- ‚úÖ ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç -->
  <div class="alert alert-warning fade-in mb-4">
    <i class="fas fa-info-circle me-2"></i>
    <strong>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</strong><br>
    <small class="text-muted">‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á ‡∏´‡∏≤‡∏Å‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå ‡∏≠‡∏≤‡∏à‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏£‡∏≤‡∏ö‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤</small>
  </div>

  <!-- üîπ ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î -->
  <form method="POST" action="/teacher/upload" enctype="multipart/form-data" id="uploadForm">

    <!-- ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£ -->
    <div class="form-group mb-4">
      <label for="certificate_number" class="form-label d-flex align-items-center">
        <i class="fas fa-hashtag text-primary me-2"></i> ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£ <span class="text-danger">*</span>
      </label>
      <input type="text" id="certificate_number" name="certificate_number" class="form-control form-control-lg" required placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 10437/2568" maxlength="30" autocomplete="off">
    </div>

    <!-- ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£ -->
    <div class="form-group mb-4">
      <label for="title" class="form-label d-flex align-items-center">
        <i class="fas fa-file-alt text-primary me-2"></i> ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£ <span class="text-danger">*</span>
      </label>
      <input type="text" id="title" name="title" class="form-control form-control-lg" required placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£">
    </div>

    <!-- ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô -->
    <div class="form-group mb-4">
      <label for="issuing_agency" class="form-label d-flex align-items-center">
        <i class="fas fa-building text-primary me-2"></i> ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏≠‡∏Å
      </label>
      <input type="text" id="issuing_agency" name="issuing_agency" class="form-control form-control-lg" placeholder="‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡∏≠‡∏≠‡∏Å">
    </div>

    <!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ -->
    <div class="form-group mb-4">
      <label for="description" class="form-label d-flex align-items-center">
        <i class="fas fa-sticky-note text-primary me-2"></i> ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
      </label>
      <textarea id="description" name="description" class="form-control" rows="3" placeholder="‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°"></textarea>
    </div>

    <!-- ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå -->
    <div class="form-group mb-4">
      <label for="file" class="form-label d-flex align-items-center">
        <i class="fas fa-cloud-upload-alt text-primary me-2"></i> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£ <span class="text-danger">*</span>
      </label>
      <input type="file" id="file" name="certificate" required accept=".pdf,.jpg,.jpeg,.png" class="form-control" />
      <div class="form-text text-muted mt-2">
        ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö: <strong>.pdf, .jpg, .jpeg, .png</strong> | ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î <strong>10 MB</strong>
      </div>
      <div id="fileName" class="mt-2 fw-semibold text-dark"></div>
    </div>

    <!-- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å -->
    <div class="form-group mb-4">
      <label for="issue_date" class="form-label d-flex align-items-center">
        <i class="fas fa-calendar-day text-primary me-2"></i> ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£
      </label>
      <input type="date" id="issue_date" name="issue_date" class="form-control form-control-lg" />
    </div>

    <!-- ‚úÖ ‡∏õ‡∏∏‡πà‡∏°‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏° (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ñ‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß) -->
    <div class="text-center mt-4">
      <button type="submit" class="btn btn-primary btn-lg px-5 py-2 rounded-pill">
        <i class="fas fa-cloud-upload-alt me-2"></i> ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£
      </button>
    </div>

  </form>

  <footer class="footer mt-5 pt-3 border-top text-center text-muted">
    ¬© <%= new Date().getFullYear() %> ‡∏™‡∏û‡∏õ.‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô ‡πÄ‡∏Ç‡∏ï 2
  </footer>

  <!-- ‚úÖ CDN Libraries -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.0/css/all.min.css">
  
  <!-- ‚úÖ Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- ‚úÖ Script ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö UX -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const fileInput = document.getElementById('file');
      const fileNameEl = document.getElementById('fileName');
      const uploadForm = document.getElementById('uploadForm');
      
      // ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
      if (fileInput && fileNameEl) {
        fileInput.addEventListener('change', function(e) {
          if (e.target.files[0]) {
            const f = e.target.files[0];
            fileNameEl.textContent = `üìÅ ${f.name} (${(f.size/1024/1024).toFixed(2)} MB)`;
          }
        });
      }
      
      // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå
      if (uploadForm && fileInput) {
        uploadForm.addEventListener('submit', function(e) {
          if (!fileInput.files[0]) {
            e.preventDefault();
            alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î');
            fileInput.focus();
          }
        });
      }
    });
  </script>
</div>